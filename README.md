# Rust(wasm) Ã— Edge computing(Cloudflare, pages and workers) = ğŸ¦€blogğŸ¤ŸğŸš€

Clean Architectureãƒ‘ã‚¿ãƒ¼ãƒ³ã¨Rust + WebAssemblyã§æ§‹ç¯‰ã•ã‚ŒãŸã€é«˜é€Ÿã‹ã¤ãƒ¢ãƒ€ãƒ³ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Cloudflare Pagesä¸Šã§ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®æ©æµã‚’å—ã‘ã¦å‹•ä½œã—ã¾ã™ã€‚

**Live Site**: [https://masahiro.me/](https://masahiro.me/)

![Blog image](./docs/masahiro_site.png)

---

## ğŸŒŸ ç‰¹å¾´

- **âš¡ é«˜é€Ÿãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: Rust + WebAssemblyã«ã‚ˆã‚‹æœ€é©åŒ–ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- **ğŸŒ ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: Cloudflare Pagesã§ä¸–ç•Œä¸­ã®ã‚¨ãƒƒã‚¸ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰é…ä¿¡
- **ğŸ¨ ãƒ¢ãƒ€ãƒ³ãªUI**: TailwindCSSã«ã‚ˆã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **ğŸ—ï¸ Clean Architecture**: é–¢å¿ƒã®åˆ†é›¢ã«ã‚ˆã‚‹ä¿å®ˆæ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰æ§‹é€ 
- **ğŸ”§ é–‹ç™ºä½“é¨“**: ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã€å‹å®‰å…¨ãªRust

---

## ğŸ“‹ ç›®æ¬¡

- [å‰ææ¡ä»¶](#å‰ææ¡ä»¶)
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
- [é–‹ç™ºã‚¬ã‚¤ãƒ‰](#é–‹ç™ºã‚¬ã‚¤ãƒ‰)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ‡ãƒ—ãƒ­ã‚¤](#ãƒ‡ãƒ—ãƒ­ã‚¤)
- [ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](#ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)

---

## ğŸ› ï¸ å‰ææ¡ä»¶

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„:

### å¿…é ˆãƒ„ãƒ¼ãƒ«

1. **Rust** (æœ€æ–°å®‰å®šç‰ˆ - 1.85.0ä»¥ä¸Šæ¨å¥¨)
   ```bash
   curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
   ```

2. **Trunk** - WASMã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
   ```bash
   cargo install trunk
   ```

3. **Node.js** (v18ä»¥ä¸Š) ã¨ **Yarn**
   ```bash
   # Yarn
   npm install -g yarn
   ```

4. **Make** - ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œç”¨ï¼ˆLinux/macOSã§ã¯é€šå¸¸ãƒ—ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼‰

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **è¨€èª**: Rust 1.85.0
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Yew 0.21.0 (Rustè£½ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Trunk
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: TailwindCSS
- **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: Cloudflare Pages
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: Clean Architecture

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/masahiro04/your-repo-name.git
cd your-repo-name
```

### 2. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ:

```bash
# WordPressã‚„ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®URL
API_URL=https://your-api-endpoint.com
```

### 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•

```bash
make dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ [http://localhost:8080](http://localhost:8080) ã‚’é–‹ãã¾ã™ã€‚

ã“ã‚Œã ã‘ã§é–‹ç™ºã‚’é–‹å§‹ã§ãã¾ã™ï¼ ğŸ‰

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
â”œâ”€â”€ crates/
â”‚   â”œâ”€â”€ app/            # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆYew + WASMï¼‰
â”‚   â”‚   â”œâ”€â”€ src/        # Rustã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ assets/     # CSSã€ç”»åƒç­‰ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ index.html  # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆHTML
â”‚   â”‚
â”‚   â”œâ”€â”€ domain/         # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰
â”‚   â”‚   â””â”€â”€ src/domain/
â”‚   â”‚       â”œâ”€â”€ entities/      # ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”‚       â””â”€â”€ repositories/  # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®æŠ½è±¡åŒ–
â”‚   â”‚
â”‚   â”œâ”€â”€ infrastructure/ # ã‚¤ãƒ³ãƒ•ãƒ©å±¤ï¼ˆAPIå®Ÿè£…ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºï¼‰
â”‚   â”‚   â””â”€â”€ src/infrastructure/
â”‚   â”‚       â”œâ”€â”€ api/    # å¤–éƒ¨APIé€šä¿¡
â”‚   â”‚       â””â”€â”€ mock/   # ãƒ†ã‚¹ãƒˆç”¨ãƒ¢ãƒƒã‚¯
â”‚   â”‚
â”‚   â””â”€â”€ use_case/       # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
â”‚       â””â”€â”€ src/use_case/
â”‚
â”œâ”€â”€ .github/workflows/  # CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ .devcontainer/      # Dev Containerè¨­å®š
â”œâ”€â”€ dockers/           # Dockerè¨­å®š
â”œâ”€â”€ docs/              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ç”»åƒ
â”œâ”€â”€ Cargo.toml         # Rustãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®š
â””â”€â”€ Makefile           # é–‹ç™ºã‚³ãƒãƒ³ãƒ‰
```

### å„Crateã®å½¹å‰²

| Crate | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å½¹å‰² |
|-------|-----------|------|
| **domain** | v1.1.0 | ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å®šç¾©ï¼ˆå¤–éƒ¨ä¾å­˜ãªã—ï¼‰ |
| **use_case** | v1.1.0 | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |
| **infrastructure** | v1.2.0 | å¤–éƒ¨APIé€šä¿¡ã¨ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å®Ÿè£… |
| **app** | v1.2.0 | Yewãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆWASMï¼‰ |

---

## ğŸ’» é–‹ç™ºã‚¬ã‚¤ãƒ‰

### ä¸»è¦ã‚³ãƒãƒ³ãƒ‰

#### Makefileã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼‰
# - yarnä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# - TailwindCSSã‚’ãƒ“ãƒ«ãƒ‰
# - Trunkã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ï¼ˆhttp://localhost:8080ï¼‰
make dev

# æœ¬ç•ªç”¨ã«ãƒ“ãƒ«ãƒ‰
# - WASMã‚’æœ€é©åŒ–ã—ã¦ãƒ“ãƒ«ãƒ‰
# - TailwindCSSã‚’ãƒŸãƒ‹ãƒ•ã‚¡ã‚¤
# - å‡ºåŠ›å…ˆ: crates/app/dist/
make build

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
# - ãƒªãƒªãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
make preview
```

#### TailwindCSSã‚³ãƒãƒ³ãƒ‰

```bash
cd crates/app

# æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰ï¼ˆãƒŸãƒ‹ãƒ•ã‚¡ã‚¤ã‚ã‚Šï¼‰
yarn build:tailwind

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼ˆé–‹ç™ºä¸­ã®è‡ªå‹•å†ãƒ“ãƒ«ãƒ‰ï¼‰
yarn watch:tailwind
```

#### Cargoã‚³ãƒãƒ³ãƒ‰

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
cargo test --all-features

# é™çš„è§£æï¼ˆãƒªãƒ³ã‚¿ãƒ¼ï¼‰
cargo clippy

# ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
cargo fmt

# ç‰¹å®šã®ã‚¯ãƒ¬ãƒ¼ãƒˆã®ã¿ãƒ†ã‚¹ãƒˆ
cargo test -p domain
```

### ã‚¹ã‚¿ã‚¤ãƒ«ã®å¤‰æ›´

1. `crates/app/assets/styles/base.css`ã‚’ç·¨é›†
2. `yarn build:tailwind`ã‚’å®Ÿè¡Œï¼ˆã¾ãŸã¯`yarn watch:tailwind`ã§è‡ªå‹•ãƒ“ãƒ«ãƒ‰ï¼‰
3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèªï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œï¼‰

### æ–°æ©Ÿèƒ½ã®è¿½åŠ 

Clean Architectureã«å¾“ã£ã¦ã€ä»¥ä¸‹ã®é †åºã§å®Ÿè£…ã—ã¾ã™:

#### 1. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å®šç¾©
`crates/domain/src/domain/entities/`

```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct Article {
    pub id: u32,
    pub title: String,
    pub content: String,
}
```

#### 2. ãƒªãƒã‚¸ãƒˆãƒªãƒˆãƒ¬ã‚¤ãƒˆã‚’å®šç¾©
`crates/domain/src/domain/repositories/`

```rust
#[async_trait(?Send)]
pub trait ArticleRepository {
    async fn get_all(&self) -> Result<Vec<Article>>;
}
```

#### 3. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’å®Ÿè£…
`crates/use_case/src/use_case/`

```rust
pub async fn fetch_articles(repo: &impl ArticleRepository) -> Result<Vec<Article>> {
    repo.get_all().await
}
```

#### 4. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‚’å®Ÿè£…
`crates/infrastructure/src/infrastructure/api/`

```rust
pub struct ArticleApi;

#[async_trait(?Send)]
impl ArticleRepository for ArticleApi {
    async fn get_all(&self) -> Result<Vec<Article>> {
        // APIå‘¼ã³å‡ºã—å®Ÿè£…
    }
}
```

#### 5. Yewã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ
`crates/app/src/app/pages/components/`

```rust
#[function_component(ArticleList)]
pub fn article_list() -> Html {
    html! {
        <div class="article-list">
            // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
        </div>
    }
}
```

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**Clean Architecture**ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

### å±¤ã®æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Presentation Layer (app)              â”‚  â† UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆYewï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Use Case Layer (use_case)             â”‚  â† ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Infrastructure Layer (infrastructure) â”‚  â† å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Domain Layer (domain)                 â”‚  â† ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒªãƒã‚¸ãƒˆãƒª
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
User Input
    â†“
Yew Component (Presentation)
    â†“
Use Case (Business Logic)
    â†“
Repository Trait (Domain)
    â†“
API Implementation (Infrastructure)
    â†“
External API (WordPressç­‰)
    â†“
Response â† â† â† â† â† â†
```

### ä¾å­˜é–¢ä¿‚ãƒ«ãƒ¼ãƒ«

- **å¤–å´ã‹ã‚‰å†…å´ã¸**: å¤–å´ã®å±¤ã¯å†…å´ã®å±¤ã«ä¾å­˜ã§ãã‚‹
- **å†…å´ã‹ã‚‰å¤–å´ã¸**: å†…å´ã®å±¤ã¯å¤–å´ã®å±¤ã«ä¾å­˜ã—ãªã„
- **Domainå±¤**: ä»–ã®ã™ã¹ã¦ã®å±¤ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ãŒã€å¤–éƒ¨ã«ä¾å­˜ã—ãªã„

---

## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤

### Cloudflare Pagesã¸ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯GitHub Actionsã‚’ä½¿ç”¨ã—ã¦è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚

#### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼

1. `main`ãƒ–ãƒ©ãƒ³ãƒã¸ãƒ—ãƒƒã‚·ãƒ¥ã¾ãŸã¯PRãƒãƒ¼ã‚¸
2. GitHub ActionsãŒè‡ªå‹•ãƒˆãƒªã‚¬ãƒ¼
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ`cargo test`ï¼‰
4. é™çš„è§£æï¼ˆ`cargo clippy`ï¼‰
5. æœ¬ç•ªãƒ“ãƒ«ãƒ‰ï¼ˆ`make build`ï¼‰
6. Cloudflare Pagesã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
7. https://masahiro.me/ ã«åæ˜  ğŸ‰

#### GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

- **test.yml**: Rustãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
- **clippy.yml**: ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
- **deploy.yml**: Cloudflare Pagesã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰
make build

# crates/app/dist/ ã®å†…å®¹ã‚’Cloudflare Pagesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

```bash
cargo test --all-features
```

### ç‰¹å®šã®ã‚¯ãƒ¬ãƒ¼ãƒˆã®ã¿ãƒ†ã‚¹ãƒˆ

```bash
cargo test -p domain
cargo test -p infrastructure
cargo test -p use_case
```

### CI/CDã§ã®ãƒ†ã‚¹ãƒˆ

GitHub Actionsã§è‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™:
- ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆæ™‚
- `main`ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥æ™‚

---

## ğŸ³ Docker

### Dev Containerã®ä½¿ç”¨

VS Codeã§é–‹ç™ºã™ã‚‹å ´åˆ:

1. **Remote Containers**æ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
3. ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆCmd/Ctrl+Shift+Pï¼‰ã‹ã‚‰
   **ã€ŒRemote-Containers: Reopen in Containerã€**ã‚’é¸æŠ
4. ã‚³ãƒ³ãƒ†ãƒŠå†…ã§è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº† âœ…

### Docker Composeã®ä½¿ç”¨

```bash
# ã‚³ãƒ³ãƒ†ãƒŠã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•
docker-compose up -d

# ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã‚·ã‚§ãƒ«ã‚’é–‹ã
docker-compose exec app bash

# ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢
docker-compose down
```

---

## ğŸ”§ WASMæœ€é©åŒ–

`Cargo.toml`ã§ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ã‚’æœ€é©åŒ–ã—ã¦ã„ã¾ã™:

```toml
[profile.release]
opt-level = 'z'        # ã‚µã‚¤ã‚ºæœ€é©åŒ–ï¼ˆæœ€å°ï¼‰
lto = true             # ãƒªãƒ³ã‚¯æ™‚æœ€é©åŒ–
codegen-units = 1      # ä¸¦åˆ—ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã‚’ç„¡åŠ¹åŒ–ï¼ˆã‚µã‚¤ã‚ºå„ªå…ˆï¼‰
strip = 'debuginfo'    # ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’å‰Šé™¤
panic = 'abort'        # ãƒ‘ãƒ‹ãƒƒã‚¯æ™‚ã«ä¸­æ–­ï¼ˆã‚µã‚¤ã‚ºå‰Šæ¸›ï¼‰
```

ã“ã‚Œã«ã‚ˆã‚Šã€WASMãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºã‚’æœ€å°åŒ–ã—ã€ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### WASMãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `wasm-bindgen`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´

**è§£æ±ºæ–¹æ³•**:
```bash
cargo install wasm-bindgen-cli --version 0.2.99
```

### ãƒãƒ¼ãƒˆç«¶åˆã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `Address already in use`

**è§£æ±ºæ–¹æ³•**:
```bash
# ä½¿ç”¨ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
lsof -i :8080

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
kill -9 <PID>

# ã¾ãŸã¯åˆ¥ã®ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨
cd crates/app && trunk serve --port 8081
```

### TailwindCSSãŒåæ˜ ã•ã‚Œãªã„

**è§£æ±ºæ–¹æ³•**:
```bash
cd crates/app
rm -rf node_modules
yarn install
yarn build:tailwind
```

---

## ğŸ“š è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ã‚ˆã‚Šè©³ç´°ãªé–‹ç™ºã‚¬ã‚¤ãƒ‰ã¯**CLAUDE.local.md**ã‚’å‚ç…§ã—ã¦ãã ã•ã„:

- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°
- å„Crateã®è©³ç´°èª¬æ˜
- ç’°å¢ƒè¨­å®š
- ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ï¼ˆæ—¥æœ¬èªè§£èª¬ä»˜ãï¼‰
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

---

## ğŸš§ é€²è¡Œä¸­ã®æ©Ÿèƒ½

### WordPress APIé€£æº
ç¾åœ¨ã€WordPressã¨ã®é€£æºæ©Ÿèƒ½ã‚’é–‹ç™ºä¸­ã§ã™ã€‚

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT

---

Made with ğŸ¦€ Rust and â¤ï¸
